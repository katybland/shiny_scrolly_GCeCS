geom_point(data = filter(all_spatial, LANDING_YEAR == 2015),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "chocolate2") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue") +
theme_void()
map2010
ll <- c("$0", "$10 million", "$20 million", "$30 million")
map2010 <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = filter(all_spatial, LANDING_YEAR == 2015),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "chocolate2") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue") +
theme_void()
map2010
map2010 <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = filter(all_spatial, LANDING_YEAR == 2016),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "chocolate2") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue") +
theme_void()
map2010
map_diff_years <- function(year) {
map <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = filter(all_spatial, LANDING_YEAR == year),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "chocolate2") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue") +
theme_void()
return(map)
}
map2010 <- map_diff_years(2010)
map2010
map2010 <- map_diff_years(2011)
map2011 <- map_diff_years(2011)
map2011
map2011 <- map_diff_years(2011)
map2011
map2010 <- map_diff_years(2010)
map2011 <- map_diff_years(2011)
map2012 <- map_diff_years(2012)
map2013 <- map_diff_years(2013)
map2014 <- map_diff_years(2014)
map2015 <- map_diff_years(2015)
map2016 <- map_diff_years(2016)
map2017 <- map_diff_years(2017)
map2018 <- map_diff_years(2018)
map2019 <- map_diff_years(2019)
map2020 <- map_diff_years(2020)
map2010
map2011
map2012
map2013
map2014
map2015
map2016
map2017
map2018
map2019
map2020
map2010
map2011
map2012
map2013
map2014
map2015
map2016
map2017
map2018
map2019
map2020
?gganimate
??gganimate
ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = all_spatial,
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "chocolate2") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue", title = 'Year: {LANDING_YEAR}') +
theme_void() +
transition_time(LANDING_YEAR) +
ease_aes('linear')
devtools::install_github('thomasp85/gganimate')
library(gganimate)
ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = all_spatial,
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "chocolate2") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue", title = 'Year: {LANDING_YEAR}') +
theme_void() +
transition_time(LANDING_YEAR) +
ease_aes('linear')
ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = all_spatial,
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "chocolate2") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue", title = 'Year: {LANDING_YEAR}') +
theme_void() +
transition(LANDING_YEAR)
ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = all_spatial,
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "chocolate2") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue", title = 'Year: {LANDING_YEAR}') +
theme_void() +
transition_time(LANDING_YEAR)
warnings()
animated <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = all_spatial,
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "chocolate2") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue", title = 'Year: {LANDING_YEAR}') +
theme_void() +
transition_time(LANDING_YEAR)
animated
last_animation()
anim <- animate(plots)
plots <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = all_spatial,
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "chocolate2") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue", title = 'Year: {LANDING_YEAR}') +
theme_void() +
transition_time(LANDING_YEAR) +
ease_aes('sine-in-out')
anim <- animate(plots)
anim
magick::image_write(anim, path="myanimation.gif")
anim_save("filenamehere.gif", plots)
animate(plots, fps = 5, end_pause = 20,renderer=gifski_renderer("test.gif"))
animate(plots, fps = 5, end_pause = 20,renderer=gifski_renderer("test.gif"))
install.packages("gifski")
library(gifski)
animate(plots, fps = 5, end_pause = 20,renderer=gifski_renderer("test.gif"))
plots <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = all_spatial,
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "chocolate2") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue", title = 'Year: {frame_time}') +
theme_void() +
transition_time(LANDING_YEAR) +
ease_aes('sine-in-out')
animate(plots, fps = 5, end_pause = 20,renderer=gifski_renderer("test.gif"))
animate(plots, fps = 1, end_pause = 20,renderer=gifski_renderer("test.gif"))
map2010
map2011
map2012
map2013
map2014
map2015
map2016
map2017
map2018
map2019
map2020
map_diff_years <- function(year) {
map <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = filter(all_spatial, LANDING_YEAR == year),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "salmon") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue") +
theme_void()
return(map)
}
# make different maps for different years
map2010 <- map_diff_years(2010)
map2011 <- map_diff_years(2011)
map2012 <- map_diff_years(2012)
map2013 <- map_diff_years(2013)
map2014 <- map_diff_years(2014)
map2015 <- map_diff_years(2015)
map2016 <- map_diff_years(2016)
map2017 <- map_diff_years(2017)
map2018 <- map_diff_years(2018)
map2019 <- map_diff_years(2019)
map2020 <- map_diff_years(2020)
map2010
map2011
map2012
map2013
map2014
map2015
map2016
map2017
map2018
map2019
map2020
map_diff_years <- function(year) {
map <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = filter(all_spatial, LANDING_YEAR == year),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "salmon") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue",
title = "Exvessel Revenue by port group") +
theme_void() +
return(map)
}
# make different maps for different years
map2010 <- map_diff_years(2010)
map2011 <- map_diff_years(2011)
map2012 <- map_diff_years(2012)
map2013 <- map_diff_years(2013)
map2014 <- map_diff_years(2014)
map2015 <- map_diff_years(2015)
map2016 <- map_diff_years(2016)
map2017 <- map_diff_years(2017)
map2018 <- map_diff_years(2018)
map2019 <- map_diff_years(2019)
map2020 <- map_diff_years(2020)
map2010
map2011
map_diff_years <- function(year) {
map <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = filter(all_spatial, LANDING_YEAR == year),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "salmon") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue") +
ggtitle("Exvessel revenue b yport group") +
theme_void() +
return(map)
}
# make different maps for different years
map2010 <- map_diff_years(2010)
map2011 <- map_diff_years(2011)
map2012 <- map_diff_years(2012)
map2013 <- map_diff_years(2013)
map2014 <- map_diff_years(2014)
map2015 <- map_diff_years(2015)
map2016 <- map_diff_years(2016)
map2017 <- map_diff_years(2017)
map2018 <- map_diff_years(2018)
map2019 <- map_diff_years(2019)
map2020 <- map_diff_years(2020)
map2010
map2011
map2012
map_diff_years <- function(year) {
map <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = filter(all_spatial, LANDING_YEAR == year),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "salmon") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue") +
ggtitle("Exvessel revenue b yport group") +
theme_void()
return(map)
}
# make different maps for different years
map2010 <- map_diff_years(2010)
map2011 <- map_diff_years(2011)
map2012 <- map_diff_years(2012)
map2013 <- map_diff_years(2013)
map2014 <- map_diff_years(2014)
map2015 <- map_diff_years(2015)
map2016 <- map_diff_years(2016)
map2017 <- map_diff_years(2017)
map2018 <- map_diff_years(2018)
map2019 <- map_diff_years(2019)
map2020 <- map_diff_years(2020)
map2010
map2011
map2012
map2013
map2014
map_diff_years <- function(year) {
map <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = filter(all_spatial, LANDING_YEAR == year),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "salmon") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue") +
ggtitle("EXVESSEL REVENUE BY PORT GROUP") +
theme_void()
return(map)
}
# make different maps for different years
map2010 <- map_diff_years(2010)
map2011 <- map_diff_years(2011)
map2012 <- map_diff_years(2012)
map2013 <- map_diff_years(2013)
map2014 <- map_diff_years(2014)
map2015 <- map_diff_years(2015)
map2016 <- map_diff_years(2016)
map2017 <- map_diff_years(2017)
map2018 <- map_diff_years(2018)
map2019 <- map_diff_years(2019)
map2020 <- map_diff_years(2020)
map2010
map2011
map2012
library(showtext)
install.packages("showtext")
library(showtext)
font_add_google(name = "Amatic SC", family = "amatic-sc")
map_diff_years <- function(year) {
scale = 1
map <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = filter(all_spatial, LANDING_YEAR == year),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "salmon") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue",
title = "EXVESSEL REVENUE BY PORT GROUP",
subtitle = "test",
caption = "test by katy") +
theme_void() +
theme(
text = element_text(family = "amatic-sc", size = 22*scale),
plot.title = element_text(size = 26*scale, hjust = 0.5),
plot.subtitle = element_text(size = 14*scale, hjust = 0.5),
plot.caption = element_text(size = 12*scale),
legend.text = element_text(size = 16*scale))
return(map)
}
# make different maps for different years
map2010 <- map_diff_years(2010)
map2011 <- map_diff_years(2011)
map2012 <- map_diff_years(2012)
map2013 <- map_diff_years(2013)
map2014 <- map_diff_years(2014)
map2015 <- map_diff_years(2015)
map2016 <- map_diff_years(2016)
map2017 <- map_diff_years(2017)
map2018 <- map_diff_years(2018)
map2019 <- map_diff_years(2019)
map2020 <- map_diff_years(2020)
map2010
font_add_google(name = "STIX Two Math", family = "STIX Two Math")
map_diff_years <- function(year) {
scale = 1
map <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = filter(all_spatial, LANDING_YEAR == year),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "salmon") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue",
title = "EXVESSEL REVENUE BY PORT GROUP",
subtitle = "test",
caption = "test by katy") +
theme_void() +
theme(
text = element_text(family = "STIX Two Math", size = 22*scale),
plot.title = element_text(size = 26*scale, hjust = 0.5),
plot.subtitle = element_text(size = 14*scale, hjust = 0.5),
plot.caption = element_text(size = 12*scale),
legend.text = element_text(size = 16*scale))
return(map)
}
# make different maps for different years
map2010 <- map_diff_years(2010)
map2010
map <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = filter(all_spatial, LANDING_YEAR == year),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "salmon") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue",
title = "EXVESSEL REVENUE BY PORT GROUP",
subtitle = "test",
caption = "test by katy") +
theme_void() +
# theme(
#   text = element_text(family = "STIX Two Math", size = 22*scale),
#   plot.title = element_text(size = 26*scale, hjust = 0.5),
#   plot.subtitle = element_text(size = 14*scale, hjust = 0.5),
#   plot.caption = element_text(size = 12*scale),
#   legend.text = element_text(size = 16*scale))
return(map)
bb <- seq(from = 0, to = 30000000, by = 10000000)  #define size breaks
ll <- c("$0", "$10 million", "$20 million", "$30 million")
map_diff_years <- function(year) {
scale = 1
map <- ggplot() +
geom_sf(data = wc_geom, fill = "grey",
# color = "transparent",
alpha = 0.45) +
geom_point(data = filter(all_spatial, LANDING_YEAR == year),
aes(x = Lon, y = Lat, size = exvessel_revenue),
alpha = .8, color = "salmon") +
scale_size_continuous(range = c(.5, 10),
breaks = bb,
labels = ll) +
labs(size = "Exvessel Revenue",
title = "EXVESSEL REVENUE BY PORT GROUP",
subtitle = "test",
caption = "test by katy") +
theme_void() +
# theme(
#   text = element_text(family = "STIX Two Math", size = 22*scale),
#   plot.title = element_text(size = 26*scale, hjust = 0.5),
#   plot.subtitle = element_text(size = 14*scale, hjust = 0.5),
#   plot.caption = element_text(size = 12*scale),
#   legend.text = element_text(size = 16*scale))
return(map)
}
# make different maps for different years
map2010 <- map_diff_years(2010)
map2011 <- map_diff_years(2011)
map2012 <- map_diff_years(2012)
map2013 <- map_diff_years(2013)
map2014 <- map_diff_years(2014)
map2015 <- map_diff_years(2015)
map2016 <- map_diff_years(2016)
map2017 <- map_diff_years(2017)
map2018 <- map_diff_years(2018)
map2019 <- map_diff_years(2019)
map2020 <- map_diff_years(2020)
map2010
